
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>Type-Traitsæºç åˆ†æ(äºŒ) | Hello @You</title>
        <meta name="author" content="Jan6055">
        <meta name="description" content="">
        <meta name="keywords" content="C++,Rust,Jan6055">
        <link rel="icon" href="https://avatars.githubusercontent.com/u/94843786?s=400&u=3e0bac8cdc09c80d159d076c0503db566f8f0579&v=4">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.1.1/js/all.min.js"></script>
        
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
    <meta name="generator" content="Hexo 6.2.0"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜(æµè§ˆå™¨é»˜è®¤å¼€å¯)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Hello @you</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;about</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;tags</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;Hello @you</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        
<div class="article">
    <div>
        <h1>Type-Traitsæºç åˆ†æ(äºŒ) </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/26
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#tags-solid"></use></svg>
            </span>
            
            <span class="tag">
                
                <a href="/tags/C/" style="color: #ff7d73">
                    C++
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Modern-C/" style="color: #ff7d73">
                    Modern C++
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/C-Library/" style="color: #00bcd4">
                    C++ Library
                </a>
            </span>
            
        </span>
        
    </div>
    <div class="content" v-pre>
        <p>åœ¨ä¸€ä¸­ï¼Œä»‹ç»äº†ä¸€äº›type_traitçš„åŸºæœ¬è®¾æ–½, å¾ˆè½»æ¾ï¼Œå”¯ä¸€æ¯”è¾ƒå¤æ‚çš„å°±æ˜¯is_pointerã€‚åœ¨äºŒä¸­ï¼Œå°†ç»§ç»­æ¢ç´¢tyep_traitsä¸­çš„åŸºæœ¬è®¾æ–½â€”â€”è¿™äº›è®¾æ–½åœ¨TMPä¸­ï¼Œæ’°å†™åº“çš„æ—¶å€™ç»å¸¸ç”¨åˆ°ã€‚è¿™ç¯‡æ–‡ç« ä¸ä¼šæ¶‰åŠåˆ°ä¸€äº›é«˜çº§çš„æŠ€å·§ã€‚è¿™äº›æŠ€å·§æ”¾åœ¨åé¢åˆ†æã€‚</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><h2 id="å…ƒå‡½æ•°çš„å®ç°æŠ€å·§"><a href="#å…ƒå‡½æ•°çš„å®ç°æŠ€å·§" class="headerlink" title="å…ƒå‡½æ•°çš„å®ç°æŠ€å·§"></a>å…ƒå‡½æ•°çš„å®ç°æŠ€å·§</h2><p>åœ¨æ ‡å‡†åº“ä¸­ï¼Œæˆ–è€…è‡ªå·±æƒ³è¦æ’°å†™å…ƒå‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ ·ä¸€ç§æ‰‹æ³•ã€‚ä¾‹å¦‚æƒ³å®ç°ä¸€ä¸ªåä¸ºXXXçš„å…ƒå‡½æ•°ã€‚</p>
<p>å¯ä»¥å¦å¤–å®šä¹‰ä¸€ä¸ªå…ƒå‡½æ•°å«åšXXX_helper&#x2F;XXX_impl(éšä½ çš„å–œå¥½ï¼Œå«ä»€ä¹ˆçŒ«çŒ«ç‹—ç‹—ä¹Ÿæ²¡æœ‰é—®é¢˜)æ¥è§£å†³æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚</p>
<p>è€ŒXXXè¿™ä¸ªå…ƒå‡½æ•°ï¼Œåšä¸€äº›è¾…åŠ©æ€§çš„æ“ä½œï¼Œä¾‹å¦‚ç§»é™¤constï¼Œvolatileã€‚è®©åè®©XXXç»§æ‰¿XXX_helperæ¥å®ç°åŠŸèƒ½ã€‚</p>
<h2 id="is-void"><a href="#is-void" class="headerlink" title="is_void"></a>is_void</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯voidï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>çœŸæ­£çš„å®ç°æ˜¯<code>__is_void_helper</code>ï¼Œè€Œ<code>is_void</code>åšä¸€äº›è¾…åŠ©æ€§çš„æ“ä½œã€‚</p>
<pre><code class="C++">  template&lt;typename&gt;
    struct __is_void_helper
    : public false_type &#123; &#125;;

  template&lt;&gt;
    struct __is_void_helper&lt;void&gt;
    : public true_type &#123; &#125;;

  /// is_void
  template&lt;typename _Tp&gt;
    struct is_void
    : public __is_void_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type //ç§»é™¤const volatile
    &#123; &#125;;
</code></pre>
<h2 id="is-integral"><a href="#is-integral" class="headerlink" title="is_integral"></a>is_integral</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯integralï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p><code>integral</code>å¯ä»¥ç†è§£ä¸ºæ•´å½¢ï¼ŒåŒ…æ‹¬æ— ç¬¦å·ç±»å‹ã€‚æˆ–è€…éšä½ æ€ä¹ˆç†è§£éƒ½è¡Œï¼Œåªè¦ä½ çœ‹åˆ°äº†å®ç°ï¼Œä½ å°±çŸ¥é“äº†ä»–æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p>
<p>åŒæ ·çš„<code>__is_integral_helper</code>åšçš„å…·ä½“çš„æ“ä½œï¼Œæœ‰å¾ˆå¤šä¸ªç‰¹ä¾‹åŒ–æ¨¡æ¿ã€‚ä½ ä¼šè¯´ç¼–å†™ä¸€ä¸ªå®æ›´æ–¹ä¾¿ä¸æ˜¯å—ï¼Ÿä¹Ÿè®¸æ˜¯çš„ï¼</p>
<pre><code class="C++"> template&lt;typename&gt;
    struct __is_integral_helper
    : public false_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;bool&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;char&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;signed char&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned char&gt;
    : public true_type &#123; &#125;;

  // We want is_integral&lt;wchar_t&gt; to be true (and make_signed/unsigned to work)
  // even when libc doesn&#39;t provide working &lt;wchar.h&gt; and related functions,
  // so check __WCHAR_TYPE__ instead of _GLIBCXX_USE_WCHAR_T.
#ifdef __WCHAR_TYPE__
  template&lt;&gt;
    struct __is_integral_helper&lt;wchar_t&gt;
    : public true_type &#123; &#125;;
#endif

#ifdef _GLIBCXX_USE_CHAR8_T
  template&lt;&gt;
    struct __is_integral_helper&lt;char8_t&gt;
    : public true_type &#123; &#125;;
#endif

  template&lt;&gt;
    struct __is_integral_helper&lt;char16_t&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;char32_t&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;short&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned short&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;int&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned int&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;long&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned long&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;long long&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned long long&gt;
    : public true_type &#123; &#125;;

  // Conditionalizing on __STRICT_ANSI__ here will break any port that
  // uses one of these types for size_t.
#if defined(__GLIBCXX_TYPE_INT_N_0) //è¿™äº›æ¡ä»¶ç¼–è¯‘ä½ å¤§å¯å¿½ç•¥æ‰ï¼Œæœ‰å…´è¶£ä¹Ÿå¯ä»¥çœ‹çœ‹ã€‚
  template&lt;&gt;
    struct __is_integral_helper&lt;__GLIBCXX_TYPE_INT_N_0&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned __GLIBCXX_TYPE_INT_N_0&gt;
    : public true_type &#123; &#125;;
#endif
#if defined(__GLIBCXX_TYPE_INT_N_1)
  template&lt;&gt;
    struct __is_integral_helper&lt;__GLIBCXX_TYPE_INT_N_1&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned __GLIBCXX_TYPE_INT_N_1&gt;
    : public true_type &#123; &#125;;
#endif
#if defined(__GLIBCXX_TYPE_INT_N_2)
  template&lt;&gt;
    struct __is_integral_helper&lt;__GLIBCXX_TYPE_INT_N_2&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned __GLIBCXX_TYPE_INT_N_2&gt;
    : public true_type &#123; &#125;;
#endif
#if defined(__GLIBCXX_TYPE_INT_N_3)
  template&lt;&gt;
    struct __is_integral_helper&lt;__GLIBCXX_TYPE_INT_N_3&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_integral_helper&lt;unsigned __GLIBCXX_TYPE_INT_N_3&gt;
    : public true_type &#123; &#125;;
#endif

  /// is_integral
  template&lt;typename _Tp&gt;
    struct is_integral
    : public __is_integral_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type //ä¸is_voidä½¿ç”¨ç›¸åŒçš„æ‰‹æ³•
    &#123; &#125;;
</code></pre>
<h2 id="is-floating-point"><a href="#is-floating-point" class="headerlink" title="is_floating_point"></a>is_floating_point</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯æµ®ç‚¹ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>å¦‚æœä½ ä¼šäº†is_integral,é‚£ä¹ˆis_floating_pointä¹Ÿæ— éœ€å¤šè¨€äº†ã€‚</p>
<pre><code class="C++"> template&lt;typename&gt;
    struct __is_floating_point_helper
    : public false_type &#123; &#125;;

  template&lt;&gt;
    struct __is_floating_point_helper&lt;float&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_floating_point_helper&lt;double&gt;
    : public true_type &#123; &#125;;

  template&lt;&gt;
    struct __is_floating_point_helper&lt;long double&gt;
    : public true_type &#123; &#125;;

#if !defined(__STRICT_ANSI__) &amp;&amp; defined(_GLIBCXX_USE_FLOAT128) //åŒæ ·æ˜¯æ¡ä»¶ç¼–è¯‘ï¼Œå¯å¿½ç•¥
  template&lt;&gt;
    struct __is_floating_point_helper&lt;__float128&gt;
    : public true_type &#123; &#125;;
#endif

  /// is_floating_point
  template&lt;typename _Tp&gt;
    struct is_floating_point
    : public __is_floating_point_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<h2 id="is-array"><a href="#is-array" class="headerlink" title="is_array"></a>is_array</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯æ•°ç»„(æœ‰ç•Œçš„&#x2F;æ— ç•Œçš„)ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>è€æ–¹æ³•äº†ï¼Œä¸»æ¨¡æ¿+åç‰¹åŒ–ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒT*ä¸åŒäºT[]å’ŒT[N]ã€‚ä¾‹å¦‚</p>
<pre><code class="C++">int main() &#123;
    int nums[10] = &#123;1,2,3,4&#125;;
    cout &lt;&lt; std::is_array&lt;decltype(nums)&gt;::value &lt;&lt; endl; //true
    int * const p = nums;
    cout &lt;&lt; std::is_array&lt;decltype(p)&gt;::value &lt;&lt; endl;	//false
    return 0;
&#125;
</code></pre>
<pre><code class="C++">    /// is_array
    // åŒºåˆ«T *, T[], T[N]çš„ä¸åŒ
  template&lt;typename&gt;
    struct is_array
    : public false_type &#123; &#125;;

  template&lt;typename _Tp, std::size_t _Size&gt;
    struct is_array&lt;_Tp[_Size]&gt;	//æœ‰ç•Œæ•°ç»„
    : public true_type &#123; &#125;;

  template&lt;typename _Tp&gt;
    struct is_array&lt;_Tp[]&gt; //æ— ç•Œæ•°ç»„
    : public true_type &#123; &#125;;
</code></pre>
<h2 id="is-pointer"><a href="#is-pointer" class="headerlink" title="is_pointer"></a>is_pointer</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯æŒ‡é’ˆï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>æ³¨æ„<code>const *</code>,<code>* const</code>çš„ä¸åŒï¼Œå‰è€…ä¸æ˜¯æŒ‡é’ˆå…·æœ‰å¸¸é‡æ€§è´¨ï¼Œåè€…æ‰æ˜¯ã€‚</p>
<pre><code class="C++">template&lt;typename&gt;
    struct __is_pointer_helper
    : public false_type &#123; &#125;;

  template&lt;typename _Tp&gt;
    struct __is_pointer_helper&lt;_Tp*&gt;
    : public true_type &#123; &#125;;

  /// is_pointer
  template&lt;typename _Tp&gt;
    struct is_pointer
    : public __is_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type //remove_cv
    &#123; &#125;;
</code></pre>
<h2 id="is-complete-or-unbounded"><a href="#is-complete-or-unbounded" class="headerlink" title="__is_complete_or_unbounded"></a>__is_complete_or_unbounded</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯å®Œæ•´çš„æˆ–è€…æ— ç•Œçš„ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>å› ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ªæœ€ç»ˆå¯¹å¤–æä¾›çš„æ¥å£ã€‚æ‰€ä»¥å¯ä»¥ä½¿ç”¨constexprå‡½æ•°çš„æ–¹å¼æ¥å®ç°ã€‚</p>
<p>é¦–å…ˆæˆ‘ä»¬åº”å½“çŸ¥é“çš„ä¸€ä¸ªå‰ç½®çŸ¥è¯†ï¼šå¦‚æœæ˜¯ä¸€ä¸ªç±»å‹æ˜¯éå®Œæ•´ç±»å‹ï¼Œæˆ–è€…æ— ç•Œç±»å‹ï¼Œsizeof ä¼šæ— æ³•åº”ç”¨ã€‚ä¾‹å¦‚</p>
<pre><code class="C++">template&lt;typename T&gt;
struct size_is &#123;
    static constexpr size_t value = sizeof(T);
&#125;;
class A; //Aä»…æœ‰å£°æ˜ï¼Œæ˜¯ä¸€ä¸ªéå®Œæ•´ç±»å‹
int main() &#123;
    cout &lt;&lt; size_is&lt;int&gt;::value &lt;&lt; endl; 	//ok
    cout &lt;&lt; size_is&lt;int[]&gt;::value &lt;&lt; endl;	//error
    cout &lt;&lt; size_is&lt;A&gt;::value &lt;&lt; endl;		//error
    return 0;
&#125;
</code></pre>
<p>ä¸€ä¸ªæ— ç•Œ&#x2F;ä¸å®Œæ•´ç±»å‹è¿˜åŒ…æ‹¬</p>
<ul>
<li>å¼•ç”¨</li>
<li>å‡½æ•°</li>
<li>void</li>
<li>æ— ç•Œæ•°ç»„</li>
</ul>
<pre><code class="C++">// Helper functions that return false_type for incomplete classes,
  // incomplete unions and arrays of known bound from those.
//ä¸ºä¸å®Œæ•´çš„ç±»ã€ä¸å®Œæ•´çš„è”åˆå’Œå·²çŸ¥è¾¹ç•Œæ•°ç»„è¿”å› false_type çš„è¾…åŠ©å‡½æ•°ã€‚
template &lt;typename _Tp, size_t = sizeof(_Tp)&gt; //å¦‚æœæ˜¯éå®Œæ•´ç±»å‹ï¼Œæˆ–è€…æ— ç•Œç±»å‹ï¼Œsizeof ä¼šæ— æ³•åº”ç”¨
    constexpr true_type __is_complete_or_unbounded(__type_identity&lt;_Tp&gt;) //ç”±äºæˆ‘ä»¬åªå…³å¿ƒè¿”å›ç±»å‹ï¼Œæ‰€ä»¥ä¸ç”¨è¿”å›å€¼
                    //æˆ–è€…è¯´è¿”å›ç±»å‹ç§éšå«äº†è¿”å›å€¼true_type::value==true;
    &#123; return &#123;&#125;; &#125;

  template &lt;typename _TypeIdentity,	
      typename _NestedType = typename _TypeIdentity::type&gt;	//ä¸Šé¢çš„æ¨¡æ¿åŒ¹é…å¤±è´¥ï¼Œè½¬è€ŒåŒ¹é…è¿™ä¸ªæ¨¡æ¿
    constexpr typename __or_&lt; //æ˜¯å…¶ä¸­ä¸€ä¸ª
      is_reference&lt;_NestedType&gt;,
      is_function&lt;_NestedType&gt;,
      is_void&lt;_NestedType&gt;,
      __is_array_unknown_bounds&lt;_NestedType&gt;	//è¿™ä¸ªtyep_traitsè¿˜æ²¡æœ‰åˆ†æï¼Œä»…ä»…çŸ¥é“å¦‚ä½•ç”¨ä¹Ÿä¸å¦¨
    &gt;::type __is_complete_or_unbounded(_TypeIdentity) //å¦‚æœ__or_ç§çš„å…ƒå‡½æ•°çš„è¿”å›ç±»å‹çš†ä¸ºfalse_typeï¼Œä¹Ÿå°±æ˜¯è¯´å‚æ•°ç±»å‹ä¸æ˜¯ä¸Šé¢é‚£äº›ç±»å‹å…¶ä¸­ä¹‹ä¸€ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯false_type
    &#123; return &#123;&#125;; &#125;
</code></pre>
<h2 id="is-enum-x2F-class-x2F-union"><a href="#is-enum-x2F-class-x2F-union" class="headerlink" title="is_enum&#x2F;class&#x2F;union"></a>is_enum&#x2F;class&#x2F;union</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯enum&#x2F;class&#x2F;unionï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>ç¼–è¯‘å™¨ä¸ºæˆ‘ä»¬å†…ç½®äº†è¿™ä¸‰ç§type_traitsã€‚ä½ åªéœ€è¦çŸ¥é“è¿™æ˜¯å†…ç½®çš„å°±å¥½ã€‚</p>
<pre><code class="C++">  /// is_enum
  template&lt;typename _Tp&gt;
    struct is_enum
    : public integral_constant&lt;bool, __is_enum(_Tp)&gt; //æ— æ³•æŸ¥çœ‹__is_enumçš„å…·ä½“å®ç°ï¼Œä¸‹åŒ
    &#123; &#125;;

  /// is_union
  template&lt;typename _Tp&gt;
    struct is_union
    : public integral_constant&lt;bool, __is_union(_Tp)&gt;
    &#123; &#125;;

  /// is_class
  template&lt;typename _Tp&gt;
    struct is_class
    : public integral_constant&lt;bool, __is_class(_Tp)&gt;
    &#123; &#125;;
</code></pre>
<h2 id="is-null-pointer"><a href="#is-null-pointer" class="headerlink" title="is_null_pointer"></a>is_null_pointer</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯ç©ºæŒ‡é’ˆï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>ç©ºæŒ‡é’ˆè¯¥å¦‚ä½•åšç‰¹ä¾‹åŒ–ã€‚C++11æœ‰nullptr,æ˜¯nullptr_tç±»å‹(nullptr_tæ˜¯decltype(nullptr)çš„ä¸€ä¸ªåˆ«å), ç”±äºä»»ä½•å‹åˆ«çš„æŒ‡é’ˆç±»å‹éƒ½å¯ä»¥è½¬æ¢ä¸ºnullptr_tï¼Œæ‰€ä»¥ï¼Œå¯¹nullptr_tç±»å‹åšç‰¹ä¾‹åŒ–å³å¯ã€‚</p>
<p>å…³äºä»¥åçš„type_traitsï¼Œå¦‚æœè¿˜æ˜¯è€ç”Ÿå¸¸è°ˆçš„è®¾è®¡æ‰‹æ³•ã€‚å°±ä¸ä¼šå†è¯´äº†ï¼Œå°±åƒè¿™ä¸ªtype_traitsä¸€æ ·ã€‚</p>
<pre><code class="C++">  template&lt;typename&gt;
    struct __is_null_pointer_helper
    : public false_type &#123; &#125;;

  template&lt;&gt;
    struct __is_null_pointer_helper&lt;std::nullptr_t&gt;
    : public true_type &#123; &#125;;

  /// is_null_pointer (LWG 2247).
  template&lt;typename _Tp&gt;
    struct is_null_pointer
    : public __is_null_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<p>GCCè¿˜æä¾›äº†ä¸€ä¸ªä¸æ¨èä½¿ç”¨çš„æ‹“å±•ã€‚</p>
<pre><code class="C++">  /// __is_nullptr_t (deprecated extension).
  template&lt;typename _Tp&gt;
    struct __is_nullptr_t
    : public is_null_pointer&lt;_Tp&gt;
    &#123; &#125; _GLIBCXX_DEPRECATED_SUGGEST(&quot;std::is_null_pointer&quot;); //è¿™äº›å®å®åœ¨æ˜¯ä¸æƒ³æ·±ç©¶åˆ°åº•ï¼Œä»¤äººåŒçƒ¦çš„å®ï¼
</code></pre>
<h2 id="is-arithmetic"><a href="#is-arithmetic" class="headerlink" title="is_arithmetic"></a>is_arithmetic</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯å¯è¿ç®—çš„ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>æ•´å½¢ç±»å‹å’Œæµ®ç‚¹ç±»å‹è¢«è§†ä½œæ˜¯å¯è¿ç®—çš„ç±»å‹ï¼Œæ— è®ºæ˜¯å¦å…·æœ‰constæ€§è´¨ã€‚</p>
<blockquote>
<p>ä½ å¯èƒ½ä¼šæƒ³åˆ°ï¼Œå¦‚æœè‡ªå®šä¹‰ç±»å‹ä¹Ÿæ”¯æŒ+ - * &#x2F;ç­‰è¿ç®—ï¼Œæ˜¯ä¸æ˜¯è¿™ä¸ªtype_traitså°±ä¸å¥½ä½¿äº†å‘¢ï¼Ÿéš¾é“æœ‰bugå—ï¼Ÿ</p>
<p>ä½ å¯ä»¥å°†è¿™ä¸ªtype_traitsçœ‹ä½œä¸€ä¸ªè§„å®šã€‚å¹¶ä¸”ï¼Œä¸è¦ä¸ºä»»ä½•è‡ªå®šä¹‰ç±»å‹åšä»»ä½•çš„type_traitsçš„ç‰¹ä¾‹åŒ–ã€‚æ°¸è¿œä¸è¦ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæœªå®šä¹‰çš„è¡Œä¸ºã€‚æœ‰å…³æ›´å¤šï¼Œ è¯·çœ‹<a target="_blank" rel="noopener" href="https://en.cppreference.com/w/cpp/types/is_arithmetic">std::is_arithmetic - cppreference.com</a></p>
</blockquote>
<pre><code class="C++">  /// is_arithmetic
  template&lt;typename _Tp&gt;
    struct is_arithmetic
    : public __or_&lt;is_integral&lt;_Tp&gt;, is_floating_point&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<h2 id="is-fundamental"><a href="#is-fundamental" class="headerlink" title="is_fundamental"></a>is_fundamental</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯åŸºæœ¬ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>å¯è¿ç®—ç±»å‹ï¼Œvoid, nullptr_tè¢«è§†ä½œä¸ºåŸºæœ¬ç±»å‹ï¼Œç†ç”±å’Œæ³¨æ„äº‹é¡¹åŒä¸Šã€‚</p>
<pre><code class="C++">  /// is_fundamental
  template&lt;typename _Tp&gt;
    struct is_fundamental
    : public __or_&lt;is_arithmetic&lt;_Tp&gt;, is_void&lt;_Tp&gt;,
           is_null_pointer&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<h2 id="is-compound"><a href="#is-compound" class="headerlink" title="is_compound"></a>is_compound</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯å¤åˆç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>åªéœ€è¦å¯¹is_fundamentalçš„ç»“æœå–åï¼Œä¹Ÿå°±æ˜¯åº”ç”¨__not_å³å¯</p>
<pre><code class="C++">  /// is_compound
  template&lt;typename _Tp&gt;
    struct is_compound
    : public __not_&lt;is_fundamental&lt;_Tp&gt;&gt;::type &#123; &#125;;
</code></pre>
<h2 id="is-object"><a href="#is-object" class="headerlink" title="is_object"></a>is_object</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>è¿™é‡Œçš„objectæŒ‡çš„æ˜¯å¹¿ä¹‰ä¸Šçš„å¯¹è±¡ã€‚ä¾‹å¦‚int,doubleç±»å‹çš„å®ä¾‹çš†ç®—å¯¹è±¡ã€‚ä¾‹å¦‚ä½†å‡½æ•°ï¼Œå¼•ç”¨ï¼Œvoidç±»å‹ä¸ç®—åœ¨å†…ã€‚</p>
<pre><code class="C++">struct A &#123;
    int m_data = 0;
&#125;;
int main() &#123;
    cout &lt;&lt; std::is_object&lt;int&gt;::value &lt;&lt; endl;			//true
    cout &lt;&lt; std::is_object&lt;double&gt;::value &lt;&lt; endl;		//true
    cout &lt;&lt; std::is_object&lt;int&amp;&gt;::value &lt;&lt; endl; 		//false
    cout &lt;&lt; std::is_object&lt;A&gt;::value &lt;&lt; endl;			//true
    cout &lt;&lt; std::is_object&lt;void(int,int)&gt;::value &lt;&lt; endl;//false
    return 0;
&#125;
</code></pre>
<p>å®ç°</p>
<pre><code class="C++">/// is_object
template&lt;typename _Tp&gt;
  struct is_object
  : public __not_&lt;__or_&lt;is_function&lt;_Tp&gt;, is_reference&lt;_Tp&gt;,
                        is_void&lt;_Tp&gt;&gt;&gt;::type
  &#123; &#125;;
</code></pre>
<h2 id="is-scalar"><a href="#is-scalar" class="headerlink" title="is_scalar"></a>is_scalar</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯ä¸€ä¸ªæ ‡é‡ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<blockquote>
<p>æ ‡é‡ç±»å‹åŒ…æ‹¬ç®—æ•°ç±»å‹ï¼Œæšä¸¾ç±»å‹ï¼ŒæŒ‡é’ˆï¼Œæˆå‘˜æŒ‡é’ˆï¼Œç©ºæŒ‡é’ˆ.å°†åœ¨é‚£äº›å…ƒå‡½æ•°åº”ç”¨äº__or_å³å¯</p>
</blockquote>
<pre><code class="C++">  /// is_scalar
  template&lt;typename _Tp&gt;
    struct is_scalar
    : public __or_&lt;is_arithmetic&lt;_Tp&gt;, is_enum&lt;_Tp&gt;, is_pointer&lt;_Tp&gt;, 
                   is_member_pointer&lt;_Tp&gt;, is_null_pointer&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<h2 id="is-compound-1"><a href="#is-compound-1" class="headerlink" title="is_compound"></a>is_compound</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯ä¸€ä¸ªå¤åˆç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<pre><code class="C++">  /// is_compound
  template&lt;typename _Tp&gt;
    struct is_compound // å¯¹is_fundamentalå–å¦å®šå³å¯
    : public __not_&lt;is_fundamental&lt;_Tp&gt;&gt;::type &#123; &#125;; 
</code></pre>
<h2 id="is-same"><a href="#is-same" class="headerlink" title="is_same"></a>is_same</h2><p>ä¼ å…¥ä¸¤ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯ç›¸åŒç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>å¯¹&lt;_Tp, _Tp&gt;åšç‰¹ä¾‹åŒ–å³å¯ã€‚</p>
<pre><code class="C++">  /// is_same
 //ä¸‹é¢çœç•¥äº†ä¸€äº›æ¡ä»¶ç¼–è¯‘
  template&lt;typename _Tp, typename _Up&gt; //ä¸åŒç±»å‹çš„æ—¶å€™
    struct is_same
    : public false_type
    &#123; &#125;;

  template&lt;typename _Tp&gt;
    struct is_same&lt;_Tp, _Tp&gt; //ç›¸åŒç±»å‹çš„æ—¶å€™
    : public true_type
    &#123; &#125;;
</code></pre>
<h2 id="is-member-object-x2F-function-pointer"><a href="#is-member-object-x2F-function-pointer" class="headerlink" title="is_member_object&#x2F;function_pointer"></a>is_member_object&#x2F;function_pointer</h2><p>ä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œè¿”å›å…¶æ˜¯ä¸æ˜¯æŒ‡å‘ç±»å†…éé™æ€æ•°æ®æˆå‘˜&#x2F;æˆå‘˜å‡½æ•°çš„æŒ‡é’ˆï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›å€¼&#x2F;ç±»å‹ä¸º true&#x2F;true_type, å¦åˆ™è¿”å›false&#x2F;false_typeã€‚</p>
<p>åœ¨æ–‡ç« çš„æœ€åï¼Œæˆ‘å‡†å¤‡äº†ä¸€äº›æ›´åŠ é…·çš„ä¸œè¥¿ï¼Œå½“ç„¶ï¼Œä¹Ÿæ›´åŠ çš„å¤æ‚ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åº”å½“äº†è§£ä¸€ä¸‹åŸºæœ¬çš„åŸç†ï¼š</p>
<p>å¦‚æœAæ˜¯ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆå¯ä»¥æœ‰è¿™æ ·çš„ä¸€ç§æŒ‡é’ˆ<code>type A::*</code> æŒ‡å‘Aä¸­ç±»å‹ä¸ºtypeçš„æ•°æ®æˆå‘˜(éé™æ€çš„ï¼Œä¸‹æ–‡çœç•¥)ã€‚ç±»ä¼¼çš„ï¼Œè¿˜æœ‰æˆå‘˜å‡½æ•°æŒ‡é’ˆã€‚ä¾‹å¦‚</p>
<pre><code class="C++">struct A &#123;
    int a = 10;
    void inc_and_print() &#123;
        ++a;
        cout &lt;&lt; a &lt;&lt; endl;
    &#125;
&#125;;
int main() &#123;
    int A::* p = &amp;A::a;
    //ä½¿ç”¨
    A x;
    x.*p = 10; //å›ºå®šçš„è¯­æ³•å½¢å¼
    cout &lt;&lt; x.*p &lt;&lt; endl;   //10
    cout &lt;&lt; x.a &lt;&lt; endl;    //10

    using Fun = void (A::*)();
//    void(A::*fun)();
    Fun fun = &amp;A::inc_and_print;
    (x.*fun)(); //such as call A::inc_and_print //a is 11
    return 0;
&#125;
</code></pre>
<p>C++è¿˜æœ‰è¿™ç§è¯­æ³•ï¼Ÿä½ ä¼šç–‘é—®ï¼Œè¿™æ˜¯è‚¯å®šçš„ï¼ä½†è¿™æ— å…³ç´§è¦ï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‰èƒ½ç”¨ä¸Šè¿™æ ·çš„è¯­æ³•ï¼Ÿè²Œä¼¼çœŸçš„æ²¡æœ‰ï¼Œé™¤äº†TMPã€‚</p>
<p>ä½ çŸ¥é“äº†è§£ä¸€ç‚¹ï¼Œå¦‚æœTæ˜¯ä¸€ä¸ªç±»ï¼Œåˆ™å¯ä»¥æœ‰<code>type T::*</code>è¿™æ ·çš„å½¢å¼æŒ‡å‘æ•°æ®æˆå‘˜&#x2F;æˆå‘˜å‡½æ•°ï¼Œä¸æ˜¯ç±»åˆ™æ²¡æœ‰ã€‚</p>
<p>å¹¶ä¸”è¿˜è¦è¯´æ˜çš„æ˜¯ï¼Œä¸è¦çº ç»“åœ¨è¿™äº›è¯­æ³•çš„çç¢ä¸Šï¼Œ<strong>Bjarne Stroustrup</strong>ä¹Ÿä¸ä¼šå¯¹æ‰€æœ‰çš„C++è¯­æ³•ç»†èŠ‚å’Œæ ‡å‡†å…¨éƒ¨ä¸€æ¸…äºŒæ¥šã€‚ä¸è¦é™·å…¥è¯­æ³•ç»†èŠ‚çš„æ·±æ¸Šâ€”â€”C++åœ¨æ‰¿å—ç€å·¨å¤§çš„å†å²åŒ…è¢±çš„åŒæ—¶ï¼Œè¿˜è¦æ·»åŠ ç°ä»£çš„è¯­æ³•ç‰¹æ€§ï¼Œæƒ³å­¦å®ŒC++â€”â€”â€”â€”ä¸‹è¾ˆå­è¯´ä¸å®šå¯ä»¥ï¼</p>
<p>å…³äºå…·ä½“çš„å®ç°ï¼Œè¯·çœ‹æºä»£ç ï¼Œæˆ‘ä¼šä¸€ç‚¹ç‚¹è¯´æ˜ã€‚</p>
<pre><code class="C++">template&lt;typename&gt;
    struct __is_member_object_pointer_helper //ä¸»æ¨¡æ¿ç»§æ‰¿false_type
    : public false_type &#123; &#125;;

  template&lt;typename _Tp, typename _Cp&gt;
    struct __is_member_object_pointer_helper&lt;_Tp _Cp::*&gt; //æ³¨æ„è¿™é‡Œæ²¡æœ‰é€—å·ï¼Œæ¨¡æ¿åŒ¹é…çš„æ—¶å€™ä¼šå°†ä¸€ä¸ªç±»å‹æ‹†åˆ†æˆä¸¤ä¸ªäº†ç±»å‹çš„ç»„åˆï¼Œå¥½å¤æ‚çš„è¯­æ³•ï¼Œå¯æ¶
      //åŒ¹é…åˆ°è¿™ä¸ªç‰¹ä¾‹åŒ–æ¨¡æ¿å¯ä»¥æ˜¯æ•°æ®æˆå‘˜æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ˜¯æˆå‘˜å‡½æ•°æŒ‡é’ˆã€‚å¦‚æœä¸æ˜¯æˆå‘˜å‡½æ•°æŒ‡é’ˆï¼Œå°±æ˜¯æ•°æ®æˆå‘˜æŒ‡é’ˆäº†
    : public __not_&lt;is_function&lt;_Tp&gt;&gt;::type &#123; &#125;; 

  /// is_member_object_pointer
  template&lt;typename _Tp&gt;
    struct is_member_object_pointer 
    : public __is_member_object_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<p>å¤ªå¤æ‚äº†ï¼ä½ å¯èƒ½è¿˜æ˜¯å¯¹ä¸Šè¿°ä»£ç ä¸­çš„å“ªä¸ªç‰¹ä¾‹åŒ–æœ‰ç–‘é—®ï¼Œå¥½å§ï¼è®©æˆ‘ä»¬ä¸€æ¢ç©¶ç«Ÿã€‚æˆ‘ä»¬å¯¹ä¸Šè¿°çš„ä»£ç æ”¹é€ ä¸€ä¸‹ã€‚å¯¹äºé‚£ä¸ªç‰¹ä¾‹åŒ–ï¼Œæˆ‘ä»¬åœ¨å…¶å†…éƒ¨å®šä¹‰ä¸¤ä¸ªç±»å‹T1, T2ä¸º _Tp, _Cpçš„åˆ«åï¼Œ_Tp,_Cpåˆ°åº•è¢«æ¨æ–­ä¸ºä»€ä¹ˆç±»å‹ã€‚</p>
<pre><code class="C++">#include &lt;iostream&gt;
#include &lt;type_traits&gt;
namespace jan &#123;
    using std::__not_;
    using std::true_type;
      using std::false_type;
      using std::is_function;
     using std::__remove_cv_t;
    template&lt;typename&gt;
    struct __is_member_object_pointer_helper
    : public false_type &#123; &#125;;

     template&lt;typename _Tp, typename _Cp&gt;
    struct __is_member_object_pointer_helper&lt;_Tp _Cp::*&gt; 
    : public __not_&lt;is_function&lt;_Tp&gt;&gt;::type &#123; 
        using T1 = _Tp;	//è¿™é‡Œæ˜¯æˆ‘ä»¬æ·»åŠ çš„
        using T2 = _Cp;
    &#125;;

  /// is_member_object_pointer
  template&lt;typename _Tp&gt;
    struct is_member_object_pointer
    : public __is_member_object_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
&#125;

class A &#123; &#125;;
int main() &#123;
     jan::is_member_object_pointer&lt;int A::*&gt;::type t;
      return 0;
&#125;
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆè¿™æ ·çš„ä»£ç ã€‚</p>
<pre><code class="C++">#include &lt;iostream&gt;
#include &lt;type_traits&gt;
namespace jan
&#123;
  using std::__not_;
  template&lt;typename _Pp&gt;
  
  using std::true_type;
  using std::false_type;
  using std::is_function;
  template&lt;typename _Tp&gt;
  
  using std::__remove_cv_t;
  template&lt;typename std::_Tp&gt;
  using std::__remove_cv_t = typename remove_cv&lt;_Tp&gt;::type;
  
  template&lt;typename type_parameter_0_0&gt;
  struct __is_member_object_pointer_helper : public std::false_type
  &#123;
  &#125;;
  /****************************************æ³¨æ„çœ‹è¿™é‡Œ******************************************/
  /* First instantiated from: insights.cpp:23 */
  #ifdef INSIGHTS_USE_TEMPLATE
  template&lt;&gt;
  struct __is_member_object_pointer_helper&lt;int A::*&gt; : public std::integral_constant&lt;bool, true&gt;
  &#123;
    using T1 = int; //_Tp is int
    using T2 = A;   //_Cp is A
  &#125;;
  /******************************************************************************************/
  #endif
  template&lt;typename _Tp, typename _Cp&gt;
  struct __is_member_object_pointer_helper&lt;_Tp _Cp::*&gt; : public __not_&lt;is_function&lt;_Tp&gt; &gt;::type
  &#123;
    using T1 = _Tp;
    using T2 = _Cp;
  &#125;;
  
  template&lt;typename _Tp&gt; //åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ _Tp us int A::*
  struct is_member_object_pointer : public __is_member_object_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt; &gt;::type
  &#123;
  &#125;;
  
  /* First instantiated from: insights.cpp:30 */
  #ifdef INSIGHTS_USE_TEMPLATE
  template&lt;&gt;
  struct is_member_object_pointer&lt;int A::*&gt; : public std::integral_constant&lt;bool, true&gt;
  &#123;
  &#125;;
  #endif 
&#125;
class A&#123; &#125;;
int main()
&#123;
    std::integral_constant&lt;bool, true&gt; t = std::integral_constant&lt;bool, true&gt;(); //è¿™é‡Œæ— å…³ç´§è¦
     return 0;
&#125;
</code></pre>
<p>æç„¶å¤§æ‚Ÿäº†å§ï¼</p>
<p>ç±»ä¼¼çš„<code>is_member_function_pointer</code>æœ‰è¿™æ ·çš„å®ç°ã€‚</p>
<pre><code class="C++">  template&lt;typename&gt;
    struct __is_member_function_pointer_helper
    : public false_type &#123; &#125;;

  template&lt;typename _Tp, typename _Cp&gt;
    struct __is_member_function_pointer_helper&lt;_Tp _Cp::*&gt;
//åŒ¹é…åˆ°è¿™ä¸ªç‰¹ä¾‹åŒ–æ¨¡æ¿å¯ä»¥æ˜¯æ•°æ®æˆå‘˜æŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æ˜¯æˆå‘˜å‡½æ•°æŒ‡é’ˆã€‚é‚£å°±ç”¨is_functionè¿™ä¸ªtype_traitsæ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å³å¯
    : public is_function&lt;_Tp&gt;::type &#123; &#125;; 

  /// is_member_function_pointer
  template&lt;typename _Tp&gt;
    struct is_member_function_pointer
    : public __is_member_function_pointer_helper&lt;__remove_cv_t&lt;_Tp&gt;&gt;::type
    &#123; &#125;;
</code></pre>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬ç¯‡å¤§éƒ¨åˆ†çš„æºç åˆ†æè¿˜æ˜¯è½»æ¾çš„ï¼Œé™¤äº†ä¸ªåˆ«çš„åˆºå¤´ã€‚</p>
<p>ä½ å¬è¯´è¿‡brainfuckè¿™ä¸ªè¯­è¨€å—ï¼Ÿç›¸æ¯”äºbrainfuckè¿™ä¸ªè¯­è¨€ï¼ŒC++æ‰æ˜¯çœŸæ­£çš„brainfunk! </p>
<p>æˆ‘çš„ğŸ§ è¦çˆ†ç‚¸äº†ï¼ï¼ï¼</p>

    </div>
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            Â© 20xx - 2022 Hello @you
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @Jan6055
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        

    </body>
</html>